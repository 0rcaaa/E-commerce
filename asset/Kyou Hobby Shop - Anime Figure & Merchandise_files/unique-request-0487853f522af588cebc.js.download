_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[52],{"816P":function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a("JiVo"),i=a("oYCi"),r=a("uEoR"),c=a("/dBk"),s=a.n(c),l=a("qd51"),o=a("etRO"),u=a("4jfz"),d=a("g2+O"),p=a("mHfP"),m=a("1U+3"),j=a("DY1Z"),b=a("m6w3"),h=a("mXGw"),_=a("0d6z"),f=a.n(_),O=a("5dyF"),g=a.n(O),x=a("czhI"),y=a.n(x),v=a("Samx"),k=a.n(v),q=(a("Tv4y"),a("yYqc")),S=a("2R4Y"),N=a("G7zG");function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(j.a)(e);if(t){var i=Object(j.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(m.a)(this,a)}}var R,M=f()();!function(e){e[e.IDLE=0]="IDLE",e[e.LOADING=1]="LOADING",e[e.ERR=2]="ERR"}(R||(R={}));var C=function(e){Object(p.a)(a,e);var t=I(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return e=t.call.apply(t,[this].concat(c)),Object(b.a)(Object(d.a)(e),"state",{products:[],dataState:R.LOADING,isPartner:!1,manufacturers:{po:[],bo:[]}}),Object(b.a)(Object(d.a)(e),"getData",Object(l.a)(s.a.mark((function t(){var a,n,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({dataState:R.LOADING}),a=JSON.parse(localStorage.getItem("recentItems")),t.prev=2,null==a){t.next=12;break}return t.next=6,y.a.get("".concat(M.publicRuntimeConfig.mitsuha,"?id=").concat(a.join("|")),{headers:P({},M.publicRuntimeConfig.stagingToken&&{"x-kyou-staging-token":M.publicRuntimeConfig.stagingToken})});case 6:n=t.sent,i=n.data.data.items,null!==localStorage.getItem("access_token")&&e.getEligibleManufacturers(),e.setState({products:i.filter((function(e){return e&&"merch"!==e.order_type&&e.is_available})),dataState:R.IDLE}),t.next=13;break;case 12:e.setState({dataState:R.IDLE});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),e.setState({dataState:R.ERR});case 18:case"end":return t.stop()}}),t,null,[[2,15]])})))),Object(b.a)(Object(d.a)(e),"getEligibleManufacturers",Object(l.a)(s.a.mark((function t(){var a,n,i,c,l,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.isPartner){t.next=13;break}return t.next=4,Promise.all([S.a.get("voucher/PARTNERKYOU5"),S.a.get("voucher/PARTNERKYOUBO10")]);case 4:return a=t.sent,n=Object(r.a)(a,2),i=n[0],c=n[1],l=i.data,o=c.data,u={po:l.data.manufacturers,bo:o.data.manufacturers},e.setState({manufacturers:u}),t.abrupt("return",u);case 13:return e.setState({manufacturers:{po:[],bo:[]}}),t.abrupt("return",{po:[],bo:[]});case 15:case"end":return t.stop()}}),t)})))),Object(b.a)(Object(d.a)(e),"renderProduct",(function(){var t=e.state,a=t.products,n=t.manufacturers,r=t.isPartner,c=e.props.onCartPage;return a.map((function(t){var a=!1;r&&"ready"===t.order_type?a=!0:r&&"PO"===t.order_type?n.po.forEach((function(e){e.name===t.manufacturer&&(a=!0)})):r&&"BO"===t.order_type&&n.bo.forEach((function(e){e.name===t.manufacturer&&(a=!0)}));var s={id:t.id,image:t.icon_link,name:t.name,status:"PO"===t.order_type&&void 0===t.deadline&&0!==t.slot?"LPO":t.order_type,deadline:void 0!==t.deadline?k()(t.release_date,"MMMM YYYY"):null,release:"PO"===t.order_type?k()(t.release_date,"MMMM YYYY"):null,price:t.price,dp:t.down_payment||null,fp:t.full_payment||null,orderClose:"PO"===t.order_type&&void 0===t.deadline&&0===t.slot||e.isOrderClosed(t),soldOut:0===t.slot,manufacturerId:t.manufacturer,eligibleForDiscount:a,isAdultItem:t.is_adult||!1,withAddToCart:c,restocked:t.restock,showcase:t.is_showcast||!1};return Object(i.jsx)("div",{className:"gallery-slider__content__product",children:Object(i.jsx)(q.a,P({},s))},t.id)}))})),Object(b.a)(Object(d.a)(e),"isOrderClosed",(function(e){return"PO"===e.order_type&&(void 0!==e.deadline&&new Date(e.deadline)<new Date((new Date).getTime()-864e5))})),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=!!localStorage.getItem("is_partner")&&JSON.parse(localStorage.getItem("is_partner"));this.setState({isPartner:e}),this.getData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataState,r=t.products;return Object(i.jsxs)("div",{className:"gallery-slider item-page",children:[Object(i.jsx)("h3",{className:"gallery-slider__title",children:"Recently Viewed Items"}),Object(i.jsxs)("div",{className:"gallery-slider__content homepage-content",children:[a===R.IDLE&&0===r.length&&Object(i.jsxs)("div",{className:"gallery-slider__content__no-item",children:[Object(i.jsx)("span",{className:"gallery-slider__content__no-item__main",children:"Kamu Belum Lihat-Lihat Barang Nih"}),Object(i.jsx)("span",{className:"gallery-slider__content__no-item__sub",children:Object(i.jsx)(g.a,{href:"/search",children:Object(i.jsx)("a",{children:"Cari Item Bagus Yuk!"})})})]}),a===R.ERR&&0===r.length&&Object(i.jsxs)("div",{className:"gallery-slider__content__no-item",children:[Object(i.jsx)("span",{className:"gallery-slider__content__no-item__main",children:"Gagal Memuat Data"}),Object(i.jsx)("span",{className:"gallery-slider__content__no-item__sub",children:Object(i.jsx)("button",{onClick:function(){return e.getData()},type:"button",children:"Coba Lagi"})})]}),a!==R.ERR&&Object(i.jsx)(N.a,{slidesPerPage:2,slidesToScroll:2,draggable:!0,breakpoints:{1024:{slidesPerPage:5,slidesToScroll:5,draggable:!1},820:{slidesPerPage:4,slidesToScroll:4,draggable:!1},580:{slidesPerPage:3,slidesToScroll:3,draggable:!0}},children:a===R.LOADING?Object(n.a)(Array(10)).map((function(e){return Object(i.jsx)(q.a,{skeleton:!0},e)})):this.renderProduct()})]})]})}}]),a}(h.Component);Object(b.a)(C,"defaultProps",{onCartPage:!1})},B7Rx:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return je}));var n=a("oYCi"),i=a("/dBk"),r=a.n(i),c=a("qd51"),s=a("etRO"),l=a("4jfz"),o=a("g2+O"),u=a("mHfP"),d=a("1U+3"),p=a("DY1Z"),m=a("m6w3"),j=a("mXGw"),b=a.n(j),h=a("UutA"),_=a("0d6z"),f=a.n(_),O=a("pWCa"),g=a.n(O),x=a("dAGg"),y=a.n(x),v=a("2R4Y"),k=a("8FD8"),q=a("4cwT"),S=a("tojj"),N=a("bgFo"),w=a("uEoR"),P=a("5dyF"),I=a.n(P),R=a("czhI"),M=a.n(R),C=a("Ld9l"),D=a.n(C),L=a("5Zwl"),E=a.n(L),A=a("Fbpo"),T=a("mCwQ"),U=a("Fcqc"),F=(a("iTun"),a("wz9c"));function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var i=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var H=D()((function(){return a.e(18).then(a.t.bind(null,"2UUl",7))}),{loadableGenerated:{webpack:function(){return["2UUl"]},modules:["react-slick"]}}),z=f()(),G=M.a.create({baseURL:z.publicRuntimeConfig.nadeshikoUrl}),K=[{name:"AmiAmi",url:"https://kyou.id/amiamilink",img:A.a.AmiAmi},{name:"Mercari",url:"https://mercari.com/jp",img:A.a.Mercari},{name:"Mandrake",url:"https://kyou.id/Mandarakelink",img:A.a.Mandrake},{name:"CD Japan",url:"https://kyou.id/cdjapanlink",img:A.a.CdJapan},{name:"Amazon Japan",url:"https://kyou.id/Amazonjplink",img:A.a.Amazon},{name:"Surugaya",url:"https://kyou.id/surugayalink",img:A.a.Surugaya},{name:"Animate Online Shop",url:"https://www.animate-onlineshop.jp/",img:A.a.Animate},{name:"Melonbooks",url:"https://www.melonbooks.co.jp/",img:A.a.Melonbooks},{name:"Hobby Link Japan",url:"https://hlj.com/",img:A.a.HLJ},{name:"Toranoana",url:"https://www.toranoana.jp/shop/",img:A.a.Toranoana},{name:"Hobby Search",url:"https://www.1999.co.jp/eng/",img:A.a.HobbySearch},{name:"Rakuten",url:"https://www.rakuten.co.jp/",img:A.a.Rakuten},{name:"Gamers",url:"https://www.gamers.co.jp/",img:A.a.Gamers},{name:"Tower Records Online",url:"http://tower.jp/",img:A.a.TowerRecords},{name:"Aniplex+",url:"https://www.aniplexplus.com/",img:A.a.Aniplex}],V=function(e){Object(u.a)(a,e);var t=J(a);function a(){var e;Object(s.a)(this,a);for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return e=t.call.apply(t,[this].concat(l)),Object(m.a)(Object(o.a)(e),"adjustmentDetailRef",b.a.createRef()),Object(m.a)(Object(o.a)(e),"state",{urlFetch:"",name:"",yenPrice:"",image:"",isImgLoading:!1,isLoading:!1,isSuccess:!1,price:"0",dp:"0",fp:"0",tolerance:0,selfFill:!1,proxyShopping:!1,localShipping:0,soldout:!1,isKyouUrl:!1,isInitialState:!0,isSubmitting:!1,isSubmitted:!1,rawYenRate:0,adjustmentDetailHovered:!1,isError:!1,isVATApplicable:!1,manualSelect:!1,manualSelectItems:[],selectedItem:-1,isValidUrl:!0,totalTolerance:0,adjustmentEventListenerMounted:!1}),Object(m.a)(Object(o.a)(e),"getPrice",E()(function(){var t=Object(c.a)(r.a.mark((function t(a){var n,i,c,s,l,o,u,d,p,m,j,b,h,_,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.urlFetch,i=e.props.totalYenPrice,t.prev=2,"0"!==a&&""!==a&&0!==a){t.next=7;break}e.setState({price:0,dp:0,fp:0,tolerance:0,isLoading:!1,isError:!1,isVATApplicable:!1,localShipping:0}),t.next=17;break;case 7:return p="unique-request/price?yen_price=".concat(a,"&links=").concat(n),t.next=10,Promise.all([v.b.get(p),v.b.get("unique-request/tolerance-weight?total_yen_price=".concat(i+Number.parseInt(a,10)))]);case 10:m=t.sent,j=Object(w.a)(m,2),b=j[0],h=j[1],_=b.data,f=h.data,e.setState({price:_.price,dp:_.dp,fp:_.fp,tolerance:_.tolerance,isLoading:!1,isError:!1,isVATApplicable:null!==(c=1===(null===(s=_.domain)||void 0===s?void 0:s.vat))&&void 0!==c&&c,localShipping:null!==(l=null===(o=_.domain)||void 0===o||null===(u=o.group)||void 0===u?void 0:u.charge)&&void 0!==l?l:0,totalTolerance:null!==(d=f.total_weight_tolerance)&&void 0!==d?d:_.tolerance});case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(2),e.setState({isLoading:!1,isError:!0});case 22:case"end":return t.stop()}}),t,null,[[2,19]])})));return function(e){return t.apply(this,arguments)}}(),250)),Object(m.a)(Object(o.a)(e),"getVAT",(function(){var t=e.state.yenPrice;return.1*parseInt(t,10)})),Object(m.a)(Object(o.a)(e),"getLink",E()(function(){var t=Object(c.a)(r.a.mark((function t(a){var n,i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.setState({isValidUrl:!0}),""!==a.trim()&&(n=new URL(a)),t.prev=3,e.setState({isLoading:!0,selfFill:!1,proxyShopping:!1,soldout:!1,isKyouUrl:!1,isInitialState:!1,isSubmitted:!1,manualSelect:!1,manualSelectItems:[],selectedItem:-1}),""!==a){t.next=9;break}e.setState({isLoading:!1,isInitialState:!0}),t.next=18;break;case 9:if(-1===n.hostname.indexOf("kyou.id")){t.next=13;break}e.setState({isLoading:!1,isKyouUrl:!0,isInitialState:!0}),t.next=18;break;case 13:return t.next=15,G.post("/",{url:a});case 15:i=t.sent,(c=i.data).success?c.data.success?(c.data.specials&&"self-fill-price"===c.data.specials?e.setState({selfFill:!0}):c.data.specials&&"cdj-proxy"===c.data.specials?e.setState({proxyShopping:!0}):c.data.specials&&"select-manually"===c.data.specials?e.setState({manualSelect:!0,manualSelectItems:c.data.payload.filter((function(e){return e.isAvailable})),selectedItem:0}):e.setState({selfFill:!1,proxyShopping:!1}),e.setState({isImgLoading:!1,name:c.data.name.replace(/&quot;/g,'"').replace(/&#39;/g,"'"),yenPrice:c.data.specials&&"select-manually"===c.data.specials?c.data.payload.filter((function(e){return e.isAvailable}))[0].price:c.data.price,image:c.data.image,isSuccess:!0}),e.getPrice(c.data.specials&&"select-manually"===c.data.specials?c.data.payload.filter((function(e){return e.isAvailable}))[0].price:c.data.price)):("soldout"===c.data.error&&e.setState({soldout:!0}),e.resetState()):e.resetState();case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(3),e.resetState({isInitialState:""===a});case 23:t.next=28;break;case 25:t.prev=25,t.t1=t.catch(0),e.setState({isValidUrl:!1});case 28:case"end":return t.stop()}}),t,null,[[0,25],[3,20]])})));return function(e){return t.apply(this,arguments)}}(),1e3,{maxWait:50})),Object(m.a)(Object(o.a)(e),"resetState",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState(B(B({},t),{},{isLoading:!1,isSuccess:!1,isImgLoading:!1,name:"",yenPrice:"",image:"",localShipping:0,price:"0",dp:"0",fp:"0",tolerance:0}))})),Object(m.a)(Object(o.a)(e),"renderWeb",(function(){return K.map((function(e){return Object(n.jsx)("div",{className:"unique-request__introductionary__webItem",children:Object(n.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:e.name,children:Object(n.jsx)("img",{src:e.img,alt:e.name,width:"72px",height:"29px"})})},e.name)}))})),Object(m.a)(Object(o.a)(e),"urlUpdate",(function(t){var a=t.target.value;e.setState({urlFetch:a}),e.getLink(a)})),Object(m.a)(Object(o.a)(e),"changeName",(function(t){e.setState({name:t.target.value})})),Object(m.a)(Object(o.a)(e),"changePrice",(function(t){var a=t.target.value.replace(/\D+/g,"");e.setState({yenPrice:a}),e.getPrice(a,0)})),Object(m.a)(Object(o.a)(e),"handleLoad",(function(){e.setState({isImgLoading:!1})})),Object(m.a)(Object(o.a)(e),"handleAdjustmentTouchEventRegistration",(function(){e.adjustmentDetailRef.current&&e.adjustmentDetailRef.current.addEventListener("touchend",(function(){return e.handleAdjustmentTouchEvent()}),{passive:!0}),e.setState({adjustmentEventListenerMounted:!0})})),Object(m.a)(Object(o.a)(e),"handleSubmit",function(){var t=Object(c.a)(r.a.mark((function t(a){var n,i,c,s,l,o,u,d,p,m;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.state,i=n.name,c=n.urlFetch,s=n.yenPrice,l=n.image,o=n.localShipping,u=n.manualSelect,d=n.manualSelectItems,p=n.selectedItem,a.preventDefault(),m=i,u&&(m="".concat(m," [").concat(d[p].name,"]")),null!==localStorage.getItem("access_token")){t.next=9;break}window.location.replace("/login"),t.next=14;break;case 9:return e.setState({isSubmitting:!0,isError:!1}),t.next=12,v.a.post("unique-request/insert",{name:m,links:c,price:parseInt(s,10),image_link:l,type:"",additional:o});case 12:q.a.publish("update-ur-list"),e.setState({isSubmitting:!1,isSubmitted:!0,urlFetch:""});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),e.setState({isSubmitting:!1,isError:!0});case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()),Object(m.a)(Object(o.a)(e),"getYenPrice",(function(){var t=e.state.yenPrice;return""===t?0:Number.parseInt(t,10)})),Object(m.a)(Object(o.a)(e),"getYenRate",Object(c.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.a)();case 2:a=t.sent,n=a.data,e.setState({rawYenRate:n.toFixed(2)});case 5:case"end":return t.stop()}}),t)})))),Object(m.a)(Object(o.a)(e),"handleAdjustmentHover",(function(t){e.setState({adjustmentDetailHovered:t})})),Object(m.a)(Object(o.a)(e),"handleManualSelectChange",(function(t){var a=e.state.manualSelectItems;e.setState({selectedItem:t.currentTarget.value,yenPrice:a[t.currentTarget.value].price}),e.getPrice(a[t.currentTarget.value].price)})),Object(m.a)(Object(o.a)(e),"handleAdjustmentTouchEvent",(function(){var t=e.state.adjustmentDetailHovered;e.handleAdjustmentHover(!t)})),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getYenRate(),this.handleAdjustmentTouchEventRegistration()}},{key:"componentDidUpdate",value:function(){var e=this.state.adjustmentEventListenerMounted;this.adjustmentDetailRef.current&&!e&&this.handleAdjustmentTouchEventRegistration()}},{key:"componentWillUnmount",value:function(){var e=this;this.adjustmentDetailRef.current&&this.adjustmentDetailRef.current.removeEventListener("touchend",(function(){return e.handleAdjustmentTouchEvent()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.urlFetch,i=t.name,r=t.yenPrice,c=t.image,s=t.isImgLoading,l=t.isLoading,o=t.isSuccess,u=t.price,d=t.dp,p=t.fp,m=t.isError,j=t.selfFill,b=t.proxyShopping,h=t.soldout,_=t.isKyouUrl,f=t.isInitialState,O=t.isSubmitted,g=t.isSubmitting,x=t.tolerance,v=t.adjustmentDetailHovered,k=t.rawYenRate,q=t.isVATApplicable,S=t.manualSelect,N=t.manualSelectItems,w=t.selectedItem,P=t.isValidUrl,R=t.totalTolerance,M=t.localShipping,C=this.props,D=C.locked,L=C.onHomepage,E=C.itemCount,Y={dots:!1,infinite:!1,slidesToShow:6,slidesToScroll:6,speed:300,draggable:!1,className:"unique-request__slider",responsive:[{breakpoint:1025,settings:{slidesToShow:4,slidesToScroll:4}}]},J=function(t){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"unique-request__item-detail__price",children:[Object(n.jsxs)("div",{className:"unique-request__item-detail__price__item",children:[Object(n.jsx)("div",{className:"unique-request__item-detail__price__item__label itemPrice",children:Object(n.jsx)(U.a,{yenPrice:e.getYenPrice(),yenRate:k,isVatApplicable:q,localShipping:M,tolerance:x,totalPrice:Number.parseInt(u,10),children:"Item Price"})}),Object(n.jsx)("div",{className:"unique-request__item-detail__price__item__value",children:"IDR ".concat(Number.parseInt(u,10).toLocaleString())})]}),Object(n.jsxs)("div",{className:"unique-request__item-detail__price__item",children:[Object(n.jsx)("div",{className:"unique-request__item-detail__price__item__label",children:"DP Starts From"}),Object(n.jsx)("div",{className:"unique-request__item-detail__price__item__value",children:"IDR ".concat(Number.parseInt(d,10).toLocaleString())})]}),Object(n.jsxs)("div",{className:"unique-request__item-detail__price__item--fp",children:[Object(n.jsx)("div",{className:"unique-request__item-detail__price__item--fp__label",children:"Make a Full Payment!"}),Object(n.jsxs)("div",{className:"unique-request__item-detail__price__item--fp__value",children:[Object(n.jsx)("span",{className:"lighter",children:"Save\xa0"}),"IDR ".concat((Number.parseInt(u,10)-Number.parseInt(p,10)).toLocaleString())]})]})]}),Object(n.jsx)("div",{className:"unique-request__item-detail__notice",children:Object(n.jsxs)("p",{children:["Apabila berat / volume dari".concat(E>0?" semua":""," item yang kamu request lebih dari "),Object(n.jsx)("b",{children:"".concat(R," gram")}),", maka akan ada kenaikan biaya. ",Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:"unique-request__item-detail__notice__description-hover",children:Object(n.jsxs)("span",{onMouseEnter:function(){return e.handleAdjustmentHover(!0)},onMouseLeave:function(){return e.handleAdjustmentHover(!1)},ref:e.adjustmentDetailRef,children:["(rincian)",v&&Object(n.jsxs)("div",{className:"unique-request__item-detail__price__price-info",children:[Object(n.jsxs)("div",{className:"unique-request__item-detail__price__price-info__inner",children:[Object(n.jsx)("span",{className:"unique-request__item-detail__price__price-info__header",children:"Rincian"}),Object(n.jsx)("div",{className:"unique-request__item-detail__price__price-info__detail",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Untuk Berat:"}),Object(n.jsx)("br",{}),"kenaikannya sebesar ",Object(n.jsx)("b",{children:"20.000 setiap 100gr"})," berat yang lebih dari ".concat(x,"gr")]})}),Object(n.jsx)("div",{className:"unique-request__item-detail__price__price-info__detail",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Untuk Volume:"}),Object(n.jsx)("br",{}),"kenaikannya sebesar ",Object(n.jsx)("b",{children:"20.000 setiap 100gr"})," volume dari ".concat(x,"gr. Cara menghitung volume yang dikenakan adalah dengan mengkalikan panjang, lebar, dan tinggi lalu dibagi 8000. (P*L*T/8000)")]})})]}),Object(n.jsx)("div",{className:"unique-request__item-detail__price__price-info__arrow"})]})]})})]})}),t&&b?Object(n.jsx)("div",{className:"unique-request__item-detail__notice",children:Object(n.jsx)("p",{children:"Ini merupakan proxy item, dan diestimasi akan ada tambahan harga cukup besar."})}):null,D&&L?Object(n.jsx)("div",{className:"unique-request__item-detail__notice",children:Object(n.jsx)("p",{children:"Kamu tidak bisa menambah Request. Harap hapus item Unique Request di halaman Cart."})}):null,m?Object(n.jsx)("div",{className:"unique-request__item-detail__notice",children:Object(n.jsx)("p",{children:"Hmm ada yang error, silakan chat Kyou untuk meminta bantuan."})}):null,D&&L?Object(n.jsx)("button",{className:"goToUR",type:"button",onClick:function(){y.a.push("/unique-request")},children:"Go to Unique Request Page"}):Object(n.jsx)("button",{type:"submit",disabled:g||D||h||_||j&&Number.parseInt(r,10)<=0||j&&""===r||!o&&!h&&""===i||!o&&!h&&Number.parseInt(r,10)<=0||!o&&!h&&""===r,children:g?Object(n.jsx)(F.a,{}):"Submit Request"})]})};return Object(n.jsx)("div",{className:"unique-request ".concat(L?"":"forceSmaller"),children:Object(n.jsx)("form",{onSubmit:this.handleSubmit,children:Object(n.jsxs)("div",{className:"unique-request__inner",children:[Object(n.jsxs)("div",{className:"left",children:[Object(n.jsx)("h3",{className:"unique-request__title",children:Object(n.jsx)(I.a,{href:"/unique-request",prefetch:!1,children:Object(n.jsxs)("a",{children:["UNIQUE REQUEST",Object(n.jsx)("img",{src:A.a.URTick,alt:"",className:"unique-request__title__tick"})]})})}),Object(n.jsx)("span",{className:"unique-request__insertLink",children:"Masukkan link barang yang kamu inginkan!"}),Object(n.jsx)("span",{className:"unique-request__introductionary__title mobile",children:"Belanja dari Jepang hanya dengan copy link!"}),Object(n.jsx)("a",{href:"https://kyou.id/help/category/unique-request/01-apa-yang-dimaksud-dengan-unique-request",className:"unique-request__introductionary__learnMore mobile",target:"_blank",rel:"noreferrer nofollow",children:"Apa itu Unique Request?"}),Object(n.jsx)("input",{type:"url",name:"url",onChange:this.urlUpdate,value:a,placeholder:"E.g. https://amiami.com/items/1525...",required:!0,onKeyDown:function(e){return"Enter"!==e.key}}),h?Object(n.jsx)("div",{className:"unique-request__item-detail__notice",children:Object(n.jsx)("p",{children:"Item ini sudah sold out. Silakan mencoba dengan item lain"})}):null,_?Object(n.jsx)("div",{className:"unique-request__item-detail__notice",children:Object(n.jsx)("p",{children:"Ini merupakan link Kyou.id. Harap membuka halaman tersebut untuk melakukan pembelian"})}):null,P?null:Object(n.jsx)("div",{className:"unique-request__item-detail__notice",children:Object(n.jsx)("p",{children:"Link yang kamu masukkan tidak valid. Silakan coba link lainnya"})})]}),Object(n.jsx)("div",{className:"right",children:l?Object(n.jsxs)("div",{className:"unique-request__loading",children:[Object(n.jsx)("img",{src:A.a.Spinner,alt:"",className:"spin"}),Object(n.jsxs)("p",{className:"unique-request__loading__description",children:["Tunggu Sebentar...",Object(n.jsx)("br",{}),"Kyou sedang mengambil data barangmu"]})]}):f?Object(n.jsxs)("div",{className:"unique-request__introductionary",children:[Object(n.jsx)("span",{className:"unique-request__introductionary__title desktop",children:"Belanja barang dari Jepang semudah copy link!"}),Object(n.jsx)("p",{className:"unique-request__introductionary__description",children:"Sekarang kamu bisa dapetin barang inceranmu dari Jepang, hanya dengan copas link dari Toko Jepang!"}),Object(n.jsx)("a",{href:"https://kyou.id/help/category/unique-request/01-apa-yang-dimaksud-dengan-unique-request",className:"unique-request__introductionary__learnMore desktop",target:"_blank",rel:"noreferrer nofollow",children:"Apa itu Unique Request?"}),Object(n.jsx)("span",{className:"unique-request__introductionary__recommended",children:"Recommended Webstore:"}),Object(n.jsx)(H,B(B({},Y),{},{children:e.renderWeb()}))]}):O?Object(n.jsxs)("div",{className:"unique-request__loading",children:[Object(n.jsx)("img",{src:A.a.GreenCheck,alt:""}),Object(n.jsxs)("p",{className:"unique-request__loading__description",children:["Link Request berhasil ditambahkan!",Object(n.jsx)("br",{}),Object(n.jsx)(I.a,{href:"/unique-request",children:Object(n.jsx)("a",{className:"unique-request__loading__description__button",children:"Lihat Daftar Request"})})]})]}):o?Object(n.jsxs)("div",{className:"unique-request__item-detail",children:[Object(n.jsxs)("div",{className:"unique-request__item-detail__info",children:[Object(n.jsx)("div",{className:"unique-request__item-detail__info__image",children:s?Object(n.jsx)(T.a,{width:"100%",height:"100%"}):Object(n.jsx)("img",{src:c,alt:i,onLoad:e.handleLoad})}),Object(n.jsxs)("div",{className:"unique-request__item-detail__info__detail",children:[Object(n.jsx)("span",{className:"unique-request__item-detail__info__detail__name",children:i}),j||S?null:Object(n.jsx)("span",{className:"unique-request__item-detail__info__detail__price",children:"JPY ".concat(Number.parseInt(r,10).toLocaleString())})]})]}),j?Object(n.jsx)("div",{className:"unique-request__item-detail__manual-fill",children:Object(n.jsxs)("label",{htmlFor:"price",className:"unique-request__item-detail__manual-fill__input",children:[Object(n.jsx)("span",{className:"unique-request__item-detail__manual-fill__input__label",children:"Price"}),Object(n.jsx)("span",{className:"unique-request__item-detail__manual-fill__input__label",style:{fontSize:"12px",color:"#565252"},children:"Please fill the item price"}),Object(n.jsxs)("div",{className:"price",children:[Object(n.jsx)("span",{children:"JPY"}),Object(n.jsx)("input",{id:"price",type:"number",name:"price",min:"1",step:"1",value:r,placeholder:"Input item price",onChange:e.changePrice,disabled:o&&!j||h,inputMode:"numeric",required:!0})]})]})}):null,S&&Object(n.jsx)("div",{className:"unique-request__item-detail__manual-fill",children:Object(n.jsxs)("label",{htmlFor:"price",className:"unique-request__item-detail__manual-fill__input",children:[Object(n.jsx)("span",{className:"unique-request__item-detail__manual-fill__input__label",children:"Item Variation"}),Object(n.jsx)("span",{className:"unique-request__item-detail__manual-fill__input__label",style:{fontSize:"12px",color:"#565252"},children:"Please select the variation you want"}),Object(n.jsx)("select",{className:"unique-request__item-detail__manual-fill__input__select",onChange:e.handleManualSelectChange,value:w,children:N.filter((function(e){return e.isAvailable})).map((function(e,t){return Object(n.jsx)("option",{value:t,children:"".concat(e.name," (JPY ").concat(e.price,")")},e.name)}))})]})}),J(!0)]}):o||h?null:Object(n.jsxs)("div",{className:"unique-request__item-detail",children:[Object(n.jsxs)("div",{className:"unique-request__item-detail__manual-fill-header",children:[Object(n.jsx)("span",{className:"unique-request__item-detail__manual-fill-header__title",children:"Hmm, itu barang apa ya?"}),Object(n.jsx)("span",{className:"unique-request__item-detail__manual-fill-header__description",children:"Isi kolom dibawah biar Kyou tahu tentang barang yang kamu mau"})]}),Object(n.jsxs)("div",{className:"unique-request__item-detail__manual-fill",children:[Object(n.jsxs)("label",{htmlFor:"itemname",className:"unique-request__item-detail__manual-fill__input",children:[Object(n.jsx)("span",{className:"unique-request__item-detail__manual-fill__input__label",children:"Item Name"}),Object(n.jsx)("input",{id:"itemname",type:"text",name:"name",value:i,placeholder:"Input item name",title:i,onChange:e.changeName,disabled:o||h,required:!0})]}),Object(n.jsxs)("label",{htmlFor:"price",className:"unique-request__item-detail__manual-fill__input",children:[Object(n.jsx)("span",{className:"unique-request__item-detail__manual-fill__input__label",children:"Price"}),Object(n.jsxs)("div",{className:"price",children:[Object(n.jsx)("span",{children:"JPY"}),Object(n.jsx)("input",{id:"price",type:"number",name:"price",min:"1",step:"1",value:r,placeholder:"Input item price",onChange:e.changePrice,disabled:o||h,inputMode:"numeric",required:!0})]})]})]}),J()]})})]})})})}}]),a}(j.Component);Object(m.a)(V,"defaultProps",{locked:!1,onHomepage:!1,itemCount:0,totalYenPrice:0});var W=a("DhwD"),X=a("kGGj");function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var i=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var Q=function(e){Object(u.a)(a,e);var t=Z(a);function a(e){var n;return Object(s.a)(this,a),n=t.call(this,e),Object(m.a)(Object(o.a)(n),"dpRef",void 0),Object(m.a)(Object(o.a)(n),"state",{dp:0,error:!1,success:!1,isLoading:!1,checkoutError:!1,method:"dp"}),Object(m.a)(Object(o.a)(n),"onClose",(function(){})),Object(m.a)(Object(o.a)(n),"onSuccess",(function(){})),Object(m.a)(Object(o.a)(n),"handleMethodChange",(function(e){var t=n.props.dp;n.setState({method:e.target.value,dp:t})})),Object(m.a)(Object(o.a)(n),"handleDPInputChange",(function(e){var t=n.props,a=t.dp,i=t.fp,r=""!==e.value?Number.parseInt(e.value,10):0;n.setState({dp:r,error:r<a||r>i})})),Object(m.a)(Object(o.a)(n),"handlePayButton",Object(c.a)(r.a.mark((function e(){var t,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state,a=t.method,i=t.dp,e.next=4,v.a.post("unique-request/add-cart",{pay:"dp"===a?"dp":"full",dp:"dp"===a?i:null});case 4:n.onSuccess(!0),q.a.publish("cart.update"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.onSuccess(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))),Object(m.a)(Object(o.a)(n),"getCheckoutButtonText",(function(e){return""===e?"PILIH METODE PEMBAYARAN":"dp"===e?"DOWN PAYMENT":"FULL PAYMENT"})),Object(m.a)(Object(o.a)(n),"beforeClose",(function(e){n.onClose(e)})),Object(m.a)(Object(o.a)(n),"cleanup",(function(){n.setState({success:!1,checkoutError:!1,method:"dp"})})),Object(m.a)(Object(o.a)(n),"handleEntered",(function(){n.dpRef&&n.dpRef.focus()})),n.state={dp:e.dp,error:!1,success:!1,isLoading:!1,checkoutError:!1,method:"dp"},n.onClose=e.onClose,n.onSuccess=e.onSuccess,n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.dp;e.dp!==t&&this.setState({dp:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isOpened,i=t.tolerance,r=t.dp,c=t.fp,s=this.state,l=s.method,o=s.error,u=s.dp,d=s.success,p=s.isLoading,m=s.checkoutError;return Object(n.jsxs)(W.a,{classNames:{modal:"paymentMethodModal",overlay:"paymentMethodModal__overlay"},open:a,onClose:function(){e.beforeClose()},onEntered:this.handleEntered,showCloseIcon:!1,center:!0,closeOnOverlayClick:!1,onExited:this.cleanup,children:[Object(n.jsxs)("div",{className:"paymentMethodModal__header",children:[p?Object(n.jsx)("span",{className:"paymentMethodModal__header__title",children:"Mohon Menunggu"}):Object(n.jsx)("span",{className:"paymentMethodModal__header__title",children:d?"".concat(m?"Ada yang salah":"Berhasil Menambahkan Item ke Dalam Keranjang"):"Metode Pembayaran"}),Object(n.jsx)("button",{type:"button",className:"paymentMethodModal__header__close",onClick:function(){return e.beforeClose()},children:"x"})]}),p?Object(n.jsx)(N.e,{invert:!0}):Object(n.jsx)("div",{className:"paymentMethodModal__content",children:d?Object(n.jsx)(n.Fragment,{children:m?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"paymentMethodModal__content__done",children:[Object(n.jsx)("img",{className:"paymentMethodModal__content__done__check",src:A.a.OrangeCross,alt:"cross"}),Object(n.jsx)("span",{className:"paymentMethodModal__content__done__text",children:"Ada Yang Salah"}),Object(n.jsx)("p",{children:"Silakan coba lagi"})]}),Object(n.jsx)("div",{className:"paymentMethodModal__content__buttons",children:Object(n.jsx)("button",{type:"button",className:"paymentMethodModal__content__buttons__button",onClick:function(){return e.beforeClose()},children:"OK"})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"paymentMethodModal__content__done",children:[Object(n.jsx)("img",{className:"paymentMethodModal__content__done__check",src:A.a.GreenCheck,alt:"check"}),Object(n.jsx)("span",{className:"paymentMethodModal__content__done__text",children:"Berhasil Menambahkan Item ke Dalam Keranjang"}),Object(n.jsx)("p",{children:"Sekarang mau kemana kita?"})]}),Object(n.jsx)("div",{className:"paymentMethodModal__content__buttons",children:Object(n.jsx)("button",{type:"button",className:"paymentMethodModal__content__buttons__button",onClick:function(){return e.beforeClose()},children:"Lanjutkan Belanja"})})]})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"paymentMethodModal__content__method",children:[Object(n.jsxs)("label",{className:"paymentMethodModal__content__method__label",children:[Object(n.jsx)("input",{type:"radio",checked:"dp"===l,onChange:this.handleMethodChange,value:"dp",id:"dp",name:"method"}),Object(n.jsx)("span",{children:"Down Payment"})]}),Object(n.jsxs)("label",{className:"paymentMethodModal__content__method__label",children:[Object(n.jsx)("input",{type:"radio",checked:"fp"===l,onChange:this.handleMethodChange,value:"fp",id:"fp",name:"method"}),Object(n.jsx)("span",{children:"Full Payment"})]})]}),null!=r&&"dp"===l?Object(n.jsxs)("div",{className:"paymentMethodModal__content__dpInput",children:[Object(n.jsx)(X.a,{prefix:"IDR ",thousandSeparator:",",value:u,onValueChange:this.handleDPInputChange,isNumericString:!0,placeholder:"IDR ".concat(r.toLocaleString()),className:"paymentMethodModal__content__dpInput__input",spellCheck:"false",getInputRef:function(t){e.dpRef=t},inputMode:"numeric",maxLength:c.toLocaleString().length+4}),Object(n.jsx)("span",{className:"paymentMethodModal__content__dpInput__min-dp",children:"Minimal DP IDR ".concat(r.toLocaleString())}),o?Object(n.jsx)("span",{className:"paymentMethodModal__content__dpInput__notice",children:"DP terlalu ".concat(u<r?"rendah":"besar")}):null]}):null,null!=c&&"fp"===l?Object(n.jsx)("div",{className:"paymentMethodModal__content__dpInput",children:Object(n.jsx)(X.a,{prefix:"IDR ",thousandSeparator:",",value:c,onValueChange:this.handleDPInputChange,isNumericString:!0,placeholder:"IDR ".concat(c.toLocaleString()),className:"paymentMethodModal__content__dpInput__input",spellCheck:"false",inputMode:"numeric",disabled:!0})}):null,Object(n.jsxs)("div",{className:"paymentMethodModal__content__notice",children:[Object(n.jsx)("span",{className:"header",children:"Informasi Penting:"}),Object(n.jsxs)("ol",{type:"1",children:[Object(n.jsxs)("li",{children:["1. Setiap ada info terbaru mengenai ordermu, Kyou akan info melalui WhatsApp, SMS dan E-Mail secara otomatis.","Pastikan nomor HP yang kamu masukkan di ",Object(n.jsx)("a",{href:"https://kyou.id/user/address",target:"_blank",rel:"noreferrer noopener",children:"Main Addressmu"})," ","benar."]}),Object(n.jsxs)("li",{children:["2. Untuk mendapatkan info melalui Facebook Messenger, ikuti panduan di ",Object(n.jsx)("a",{href:"http://kyou.id/integrasi",children:"http://kyou.id/integrasi"})]}),Object(n.jsxs)("li",{children:["3. Apabila berat / volume item lebih dari ",Object(n.jsx)("strong",{children:"".concat(i," gram")}),"sebesar IDR 20,000 setiap 100 gram. Kenaikan juga akan ada apabila terdapat ongkir lokal dari webstore bersangkutan."]}),"dp"===l?Object(n.jsx)("li",{children:"4. Apabila kamu DP, informasi pelunasan akan dikirim melalui SMS, E-mail, dan/atau Facebook Messenger"}):null]})]}),Object(n.jsx)("div",{className:"paymentMethodModal__content__buttons",children:Object(n.jsx)("button",{type:"button",className:"paymentMethodModal__content__buttons__button primary",disabled:""===l||"dp"===l&&0===u||"dp"===l&&o,onClick:this.handlePayButton,children:"Tambahkan ke Keranjang"})})]})})]})}}]),a}(j.Component),$=h.c.div.withConfig({displayName:"indexstyled__Base",componentId:"sc-1o0fi30-0"})(["display:flex;flex-direction:row;justify-content:center;align-items:flex-start;background:",";padding:16px;border-radius:4px;margin-bottom:20px;width:55%;box-shadow:0 0 4px 0 rgba(0,0,0,0.1);box-sizing:border-box;@media (max-width:1024px){padding:8px;width:100%;flex-direction:column;}"],(function(e){return e.theme.colors.white})),ee=h.c.div.withConfig({displayName:"indexstyled__Item",componentId:"sc-1o0fi30-1"})(["flex-grow:1;display:flex;"]),te=h.c.div.withConfig({displayName:"indexstyled__ImageContainer",componentId:"sc-1o0fi30-2"})(["width:20%;text-align:center;flex-shrink:0;img{width:100%;height:auto;object-fit:cover;cursor:pointer;}"]),ae=h.c.div.withConfig({displayName:"indexstyled__Detail",componentId:"sc-1o0fi30-3"})(["margin-left:20px;flex-grow:1;display:flex;flex-direction:column;"]),ne=h.c.a.withConfig({displayName:"indexstyled__Name",componentId:"sc-1o0fi30-4"})(["font-size:16px;font-weight:bold;display:block;color:",";cursor:pointer;&:hover{text-decoration:none;}"],(function(e){return e.theme.colors.black})),ie=h.c.div.withConfig({displayName:"indexstyled__PriceContainer",componentId:"sc-1o0fi30-5"})(["margin-top:4px;display:block;font-size:14px;position:relative;unique-request__item-detail__price__price-info{z-index:20;}"]),re=h.c.span.withConfig({displayName:"indexstyled__Price",componentId:"sc-1o0fi30-6"})(["font-size:14px;display:block;font-weight:bold;color:",';display:flex;align-items:center;position:relative;&:after{content:"?";margin-left:4px;font-size:8px;width:12px;height:12px;color:',";background:",";border-radius:32px;font-weight:normal;display:inline-flex;align-items:center;justify-content:center;}"],(function(e){return e.theme.colors.orange}),(function(e){return e.theme.colors.black}),(function(e){return e.theme.colors.borderColor})),ce=Object(h.c)(re).withConfig({displayName:"indexstyled__YenPrice",componentId:"sc-1o0fi30-7"})(["font-size:14px;font-weight:normal;color:",";margin-top:2px;&:after{display:none;}"],(function(e){return e.theme.colors.grayDarker})),se=h.c.a.withConfig({displayName:"indexstyled__Origin",componentId:"sc-1o0fi30-8"})(["margin-top:auto;font-size:14px;color:",";text-decoration:none;"],(function(e){return e.theme.colors.grayDarker})),le=h.c.div.withConfig({displayName:"indexstyled__ButtonContainer",componentId:"sc-1o0fi30-9"})(["@media (max-width:1024px){align-self:flex-end;}button{background:",";border:2px solid ",";border-radius:4px;color:",";display:block;font-weight:bold;width:100%;font-size:0.9em;padding:8px 16px;margin-bottom:10px;cursor:pointer;}"],(function(e){return e.theme.colors.orange}),(function(e){return e.theme.colors.orange}),(function(e){return e.theme.colors.white})),oe=function(e){var t=e.name,a=e.estimatedPrice,i=e.enableRemoveButton,s=e.imageLink,l=e.skeleton,o=e.id,u=e.onRemoveItem,d=e.itemLink,p=e.yenPrice,m=e.localShipping,b=e.yenRate,h=Object(j.useState)(0),_=h[0],f=h[1],O=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.b.get("unique-request/tolerance-weight?total_yen_price=".concat(t));case 2:return a=e.sent,n=a.data,f(n.total_weight_tolerance),e.abrupt("return",n.total_weight_tolerance);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.useEffect)((function(){l||O(p)}),[l]),Object(n.jsxs)($,{children:[Object(n.jsxs)(ee,{children:[Object(n.jsx)(te,{as:"a",href:d,target:"_blank",rel:"noopener noreferrer",children:l?Object(n.jsx)(T.a,{square:!0}):Object(n.jsx)("img",{src:s,alt:""})}),Object(n.jsxs)(ae,{children:[Object(n.jsx)(ne,{href:d,target:"_blank",rel:"noopener noreferrer",children:l?Object(n.jsx)(T.a,{}):t}),Object(n.jsx)(ie,{children:l?Object(n.jsx)(T.a,{}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(U.a,{yenPrice:p,yenRate:b,isVatApplicable:!1,localShipping:m,tolerance:_,totalPrice:a,children:Object(n.jsx)(re,{children:"IDR ".concat(a.toLocaleString())})})})}),Object(n.jsx)(ce,{children:l?Object(n.jsx)(T.a,{}):"JPY ".concat(p.toLocaleString())}),Object(n.jsx)(se,{href:l?void 0:d,target:"_blank",rel:"nooopener noreferrer",children:l?Object(n.jsx)(T.a,{}):"From ".concat(new URL(d).hostname)})]})]}),Object(n.jsx)(le,{children:!l&&i&&Object(n.jsx)("button",{type:"button",onClick:function(){u(o)},children:"Remove"})})]})},ue=oe;function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var i=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}oe.defaultProps={skeleton:!1,id:"",name:"",imageLink:"",itemLink:"",estimatedPrice:0,yenPrice:0,onRemoveItem:function(){},enableRemoveButton:!0,yenRate:0,localShipping:0};var pe=f()(),me=h.c.div.withConfig({displayName:"unique-request__SummaryEntry",componentId:"zal6xm-0"})(["display:grid;grid-template-columns:50% 50%;padding:0;margin-bottom:16px;font-size:14px;div{padding:0;}&.border{border:0px !important;border-bottom:1px solid $border-color !important;padding-bottom:16px;}.left{.title{color:#606060;font-weight:300;font-size:16px;}.item{color:#9b9b9b;font-size:12px;}}.price{font-size:16px;text-align:right;b{color:",";}}"],(function(e){return e.theme.colors.orange})),je=function(e){Object(u.a)(a,e);var t=de(a);function a(){var e;Object(s.a)(this,a);for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return e=t.call.apply(t,[this].concat(l)),Object(m.a)(Object(o.a)(e),"state",{data:[],totalPrice:0,paymentModal:!1,price:0,dp:0,fp:0,containsBO:0,loading:!1,tolerance:0,showData:!1,totalYenPrice:0,yenRate:0}),Object(m.a)(Object(o.a)(e),"getYenRate",Object(c.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.a)();case 2:a=t.sent,n=a.data,e.setState({yenRate:n.toFixed(2)});case 5:case"end":return t.stop()}}),t)})))),Object(m.a)(Object(o.a)(e),"fetchData",Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({showData:!1}),t.next=3,Promise.all([e.getCart(),e.getData(),e.getPrice()]);case 3:e.setState({showData:!0});case 4:case"end":return t.stop()}}),t)})))),Object(m.a)(Object(o.a)(e),"getData",Object(c.a)(r.a.mark((function t(){var a,n,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("unique-request/list");case 3:a=t.sent,n=a.data,i=n.reduce((function(e,t){return e+t.yen_price}),0),e.setState({data:n,totalYenPrice:null!==i&&void 0!==i?i:0}),e.countPrice(n),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))),Object(m.a)(Object(o.a)(e),"getPrice",Object(c.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("unique-request/info");case 2:a=t.sent,n=a.data,e.setState({price:n.price,dp:n.down_payment,fp:Number.parseInt(n.full_payment,10),tolerance:n.tolerance});case 5:case"end":return t.stop()}}),t)})))),Object(m.a)(Object(o.a)(e),"getCart",Object(c.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("cart");case 2:a=t.sent,n=a.data,e.setState({containsBO:n.include_bo});case 5:case"end":return t.stop()}}),t)})))),Object(m.a)(Object(o.a)(e),"removeUr",function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("unique-request/remove",{id:a});case 3:return t.next=5,e.fetchData();case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),Object(m.a)(Object(o.a)(e),"handlePaymentModal",(function(){e.setState({paymentModal:!0})})),Object(m.a)(Object(o.a)(e),"closeModal",(function(){e.setState({paymentModal:!1})})),Object(m.a)(Object(o.a)(e),"handleSuccess",(function(e){e?y.a.push("/user/cart"):window.location.reload()})),Object(m.a)(Object(o.a)(e),"handleCartButton",Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.state.containsBO){t.next=13;break}return t.prev=2,e.setState({loading:!0}),t.next=6,v.a.post("unique-request/remove-cart");case 6:return t.prev=6,t.next=9,e.getCart();case 9:return e.setState({loading:!1}),t.finish(6);case 11:t.next=14;break;case 13:e.handlePaymentModal();case 14:case"end":return t.stop()}}),t,null,[[2,,6,11]])})))),Object(m.a)(Object(o.a)(e),"countPrice",(function(t){var a=t.reduce((function(e,t){return e+t.estimate_price}),0);e.setState({totalPrice:a})})),Object(m.a)(Object(o.a)(e),"renderList",(function(t){var a=e.state,i=a.containsBO,r=a.yenRate;return t.map((function(t){return Object(n.jsx)(ue,{id:t.id,name:t.name,imageLink:t.image_link,estimatedPrice:t.estimate_price,enableRemoveButton:1!==i,onRemoveItem:e.removeUr,itemLink:"https://".concat(t.links),yenPrice:t.yen_price,localShipping:t.local_shipping,yenRate:r},t.id)}))})),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===localStorage.getItem("access_token")&&void 0===localStorage.getItem("access_token")){e.next=4;break}return e.next=3,Promise.all([this.fetchData(),this.getYenRate()]);case 3:q.a.subscribe("update-ur-list",this.fetchData);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){q.a.unsubscribe("update-ur-list",this.fetchData)}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.paymentModal,i=e.totalPrice,r=e.price,c=e.dp,s=e.fp,l=e.tolerance,o=e.containsBO,u=e.loading,d=e.showData,p=e.totalYenPrice,m=i-r>0;return Object(n.jsxs)(S.a,{children:[Object(n.jsxs)(g.a,{children:[Object(n.jsx)("title",{children:"Unique Request - Jasa Belanja dari Jepang | Kyou Hobby Shop"}),Object(n.jsx)("link",{rel:"canonical",href:"".concat(pe.publicRuntimeConfig.hostname,"/unique-request")},"CANONICAL"),Object(n.jsx)("meta",{name:"description",content:"Jasa belanja dari Jepang termudah dan termurah di Indonesia. Copy link item request kamu dan dapatkan harganya secara instan! Kyou sudah melayani puluhan ribu pelanggan."},"DESC"),Object(n.jsx)("meta",{name:"title",content:"Unique Request - Jasa Belanja dari Jepang | Kyou Hobby Shop"},"TITLE"),Object(n.jsx)("meta",{property:"og:title",content:"Unique Request - Jasa Belanja dari Jepang | Kyou Hobby Shop"},"OG_TITLE"),Object(n.jsx)("meta",{property:"og:description",content:"Jasa belanja dari Jepang termudah dan termurah di Indonesia. Copy link item request kamu dan dapatkan harganya secara instan! Kyou sudah melayani puluhan ribu pelanggan."},"OG_DESC"),Object(n.jsx)("meta",{property:"og:type",content:"website"},"OG_TYPE"),Object(n.jsx)("meta",{property:"og:url",content:"".concat(pe.publicRuntimeConfig.hostname,"/unique-request")},"OG_URL"),Object(n.jsx)("meta",{property:"twitter:url",content:"".concat(pe.publicRuntimeConfig.hostname,"/unique-request")},"TWITTER_URL"),Object(n.jsx)("meta",{property:"twitter:title",content:"Unique Request - Jasa Belanja dari Jepang | Kyou Hobby Shop"},"TWITTER_TITLE"),Object(n.jsx)("meta",{property:"twitter:description",content:"Jasa belanja dari Jepang termudah dan termurah di Indonesia. Copy link item request kamu dan dapatkan harganya secara instan! Kyou sudah melayani puluhan ribu pelanggan."},"TWITTER_DESC")]}),Object(n.jsxs)(N.h,{children:[Object(n.jsxs)("div",{className:"ur-page",children:[Object(n.jsxs)("div",{className:"ur-page__content",children:[Object(n.jsx)("div",{className:"ur-page__content__list",children:Object(n.jsxs)("div",{className:"ur-page__content__list__desc",children:[Object(n.jsx)("h4",{children:"Order Summary"}),d?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"discount",children:[m?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(me,{children:[Object(n.jsxs)("div",{className:"left",children:[Object(n.jsx)("div",{className:"title",children:"Subtotal"}),Object(n.jsx)("div",{className:"item",children:"".concat(t.length," Item").concat(t.length>1?"s":"")})]}),Object(n.jsx)("div",{className:"price",children:"IDR ".concat(i.toLocaleString())})]}),Object(n.jsxs)(me,{children:[Object(n.jsxs)("div",{className:"left",children:[Object(n.jsx)("div",{className:"title",children:"Discount"}),Object(n.jsx)("div",{className:"item",children:"Ini diskon untuk kamu, karena kamu request item lebih dari satu item!"})]}),Object(n.jsx)("div",{className:"price",children:"IDR ".concat((i-r).toLocaleString())})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{className:"grand-total",children:Object(n.jsx)("b",{children:"Grand Total"})})]}):null,Object(n.jsxs)(me,{children:[Object(n.jsxs)("div",{className:"left",children:[Object(n.jsx)("div",{className:"title",children:"Total"}),Object(n.jsx)("div",{className:"item",children:"DP IDR ".concat(c.toLocaleString())})]}),Object(n.jsx)("div",{className:"price",children:"IDR ".concat(r.toLocaleString())})]}),Object(n.jsxs)(me,{children:[Object(n.jsx)("div",{className:"left",children:Object(n.jsx)("div",{className:"title",children:"Full Payment"})}),Object(n.jsx)("div",{className:"price",children:"IDR ".concat(s.toLocaleString())})]})]}),1===o?Object(n.jsx)("p",{children:"Kamu tidak bisa menambah Request. Harap hapus item Unique Request di halaman Cart."}):null,Object(n.jsx)("button",{onClick:this.handleCartButton,disabled:0===r||u,type:"button",children:u?Object(n.jsx)(N.e,{}):"".concat(1===o?"Remove All from Cart":"Add All to Cart")})]}):Object(n.jsx)(N.e,{invert:!0})]})}),Object(n.jsx)(V,{locked:1===o,itemCount:t.length,totalYenPrice:p})]}),Object(n.jsx)("h2",{children:"Your Request"}),Object(n.jsx)("div",{className:"item",children:d?this.renderList(t):Object(n.jsx)(ue,{skeleton:!0})})]}),Object(n.jsx)(Q,{fp:s,dp:c,tolerance:l,isOpened:a,onSuccess:this.handleSuccess,onClose:this.closeModal})]})]})}}]),a}(j.Component)},Tv4y:function(e,t,a){},bgFo:function(e,t,a){"use strict";a.d(t,"d",(function(){return n.a})),a.d(t,"h",(function(){return i.a})),a.d(t,"b",(function(){return r.a})),a.d(t,"c",(function(){return c.a})),a.d(t,"e",(function(){return s.a})),a.d(t,"g",(function(){return l.a})),a.d(t,"f",(function(){return o.a})),a.d(t,"a",(function(){return y}));var n=a("eIi4"),i=a("DSax"),r=a("0TmZ"),c=a("2Fc/"),s=(a("Xcn4"),a("wz9c")),l=a("816P"),o=a("xmiZ"),u=a("oYCi"),d=(a("mXGw"),a("5dyF")),p=a.n(d),m=a("4cwT"),j=a("Fbpo"),b=a("UutA"),h=a("1PFn"),_=b.c.div.withConfig({displayName:"indexstyled__StyledBottomNav",componentId:"sc-1yy4f77-0"})(["display:none;@media (max-width:1024px) and (display-mode:standalone){display:flex;height:58px;box-shadow:0 -2px 4px 0 rgba(0,0,0,0.2);position:fixed;bottom:0px;background:white;width:100vw;z-index:100;}"]),f=b.c.a.withConfig({displayName:"indexstyled__BottomNavLink",componentId:"sc-1yy4f77-1"})(["display:flex;flex-direction:column;align-items:center;min-width:64px;height:100%;flex:1;background:none;border:none;cursor:pointer;&:hover{text-decoration:none;}"]),O=Object(b.c)(h.a).withConfig({displayName:"indexstyled__BottomNavLinkIcon",componentId:"sc-1yy4f77-2"})((function(e){return"\n  margin-top: 12px;\n  width: 24px;\n  height: 24px;\n\n  svg {\n    width: 100%;\n    height: 100%;\n\n    * {\n      fill: #808080 !important;\n    }\n  }\n\n  ".concat(f,":hover & svg * {\n    fill: ").concat(e.theme.colors.orange,"; !important;\n  }\n")})),g=b.c.span.withConfig({displayName:"indexstyled__BottomNavLinkLabel",componentId:"sc-1yy4f77-3"})((function(e){return"\n    font-size: 12px;\n      font-weight: normal;\n      font-style: normal;\n      font-stretch: normal;\n      line-height: 1.56;\n      text-align: center;\n      color: #808080;\n      margin-bottom: 8px;\n\n      ".concat(f,":hover & {\n        color: ").concat(e.theme.colors.orange,";\n      }\n")})),x=_;function y(){var e=Object(m.c)("openMenu");return Object(u.jsxs)(x,{children:[Object(u.jsx)(p.a,{href:"/",children:Object(u.jsxs)(f,{children:[Object(u.jsx)(O,{src:j.a.Home}),Object(u.jsx)(g,{children:"Home"})]})}),Object(u.jsx)(p.a,{href:"/user/wishlist",children:Object(u.jsxs)(f,{children:[Object(u.jsx)(O,{src:j.a.WishlistNavbarGray}),Object(u.jsx)(g,{children:"Wishlist"})]})}),Object(u.jsx)(p.a,{href:"/unique-request",children:Object(u.jsxs)(f,{children:[Object(u.jsx)(O,{src:j.a.UR}),Object(u.jsx)(g,{children:"Unique Req."})]})}),Object(u.jsx)(p.a,{href:"/user/history",children:Object(u.jsxs)(f,{children:[Object(u.jsx)(O,{src:j.a.History}),Object(u.jsx)(g,{children:"Orders"})]})}),Object(u.jsxs)(f,{onClick:function(){e()},type:"button",as:"button",children:[Object(u.jsx)(O,{src:j.a.MyAccount}),Object(u.jsx)(g,{children:"Account"})]})]})}},eVP6:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/unique-request",function(){return a("B7Rx")}])},tojj:function(e,t,a){"use strict";var n=a("oYCi"),i=a("/dBk"),r=a.n(i),c=a("qd51"),s=a("mXGw"),l=a("pWCa"),o=a.n(l),u=a("dAGg"),d=a.n(u),p=a("ge43"),m=a("xmiZ"),j=a("0TmZ"),b=a("mVkS"),h=function(e){var t=e.children,a=e.isItemPage,i=Object(s.useState)([]),l=i[0],u=i[1],h=Object(s.useState)([]),_=h[0],f=h[1],O=Object(s.useState)(!0),g=O[0],x=O[1],y=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)();case 2:t=e.sent,a=t.data,u(a||[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){f(localStorage.getItem("dismissed_announcements")?JSON.parse(localStorage.getItem("dismissed_announcements")):[]),y(),d.a.events.on("routeChangeComplete",(function(){"/"===d.a.pathname?x(!0):x(!1)}))}),[]);var v=function(e){var t=_;t.push(e),u(l),f(t)},k=l.filter((function(e){return-1===_.indexOf(e.id)})).map((function(e){return Object(n.jsx)(b.a,{text:e.content,buttonText:e.button_text,type:e.type,destination:e.link,id:e.id,onDismiss:v},e.id)}));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(o.a,{children:Object(n.jsx)("title",{children:"Kyou Hobby Shop - Anime Figure & Merchandise"})}),Object(n.jsx)(m.a,{}),Object(n.jsxs)("div",{className:"container ".concat(a?"itemPage":""),children:[g?k:null,t]}),Object(n.jsx)(j.a,{className:a?"storepage-extend":""})]})};h.defaultProps={isItemPage:!1},t.a=h}},[["eVP6",0,2,1,3,4,5,6,8,10,9,11,12,14,13,22,7]]]);